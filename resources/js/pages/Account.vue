<template>
    <div class="AccountPage_page">
        <div class="AccountPage_accountBody">
            <div class="AccountPage_accountHead">
                <div class="AccountPage_customerDetailPadding d-flex flex-column flex-grow-1 justify-content-end">
                    <div class="AccountPage_text font-weight-bold">{{ user ? user.name : '' }}</div>
                    <div class="AccountPage_text">{{ user ? user.phone : '' }}</div>
                </div>
                <picture>
                    <img src="media/logo.png" class="mb-2 mr-2 ml-2" width="100">
                </picture>
            </div>
            <div class="AccountPage_accountCard">
                <router-link class="AccountPage_buttonCard" :to="{name: 'profile'}" style="text-decoration: none">
                    <svg width="20" height="24" viewBox="0 0 20 24" fill="none" class="AccountPage_icon">
                        <path d="M13.5924 2.02719C12.6802 1.04234 11.4062 0.5 9.9999 0.5C8.58615 0.5 7.30787 1.03906 6.3999 2.01781C5.48209 3.00734 5.0349 4.35219 5.1399 5.80437C5.34803 8.66937 7.52818 11 9.9999 11C12.4716 11 14.648 8.66984 14.8594 5.80531C14.9658 4.36625 14.5158 3.02422 13.5924 2.02719ZM18.2499 21.5H1.7499C1.53393 21.5028 1.32005 21.4574 1.12382 21.3672C0.927593 21.2769 0.75395 21.1441 0.615527 20.9783C0.310839 20.6141 0.188027 20.1167 0.278964 19.6137C0.674589 17.4191 1.90928 15.5755 3.8499 14.2812C5.57396 13.1323 7.75787 12.5 9.9999 12.5C12.2419 12.5 14.4258 13.1328 16.1499 14.2812C18.0905 15.575 19.3252 17.4186 19.7208 19.6133C19.8118 20.1162 19.689 20.6136 19.3843 20.9778C19.2459 21.1437 19.0723 21.2766 18.876 21.367C18.6798 21.4573 18.4659 21.5028 18.2499 21.5Z" fill="#0C7800"></path>
                    </svg>
                    <div class="AccountPage_buttonTextDetails"><span>Data Diri</span><span>Lengkapi informasi data diri</span></div>
                    <div class="AccountPage_iconSmall AccountPage_arrow"></div>
                </router-link>
            </div>
            <div class="AccountPage_accountCard">
                <div class="AccountPage_buttonCard">
                    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" class="AccountPage_icon">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.46399 3.75H19.7861C20.611 3.75 21.2812 4.41617 21.286 5.24111L21.3661 18.7411C21.371 19.5695 20.7034 20.2451 19.875 20.25C19.872 20.25 19.8691 20.25 19.8661 20.25H7.87503L7.96402 5.24111C7.96891 4.41617 8.63903 3.75 9.46399 3.75Z" fill="#0C7800" stroke="#0C7800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.95126 13.5H8.87502V20.25H4.89691C4.06848 20.25 3.39691 19.5784 3.39691 18.75C3.39691 18.7428 3.39696 18.7355 3.39707 18.7283L3.45142 14.9783C3.4633 14.1584 4.13131 13.5 4.95126 13.5Z" fill="#0C7800" stroke="#0C7800" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M10.875 8.25H18.375" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M10.875 12H18.375" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M10.875 15.75H18.375" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                    <div class="AccountPage_buttonTextDetails"><span>Daftar Pesanan</span><span>Lihat riwayat pesanan</span></div>
                    <div class="AccountPage_iconSmall AccountPage_arrow"></div>
                </div>
            </div>
            <div class="AccountPage_accountCard">
                <div class="AccountPage_buttonCard">
                    <svg width="16" height="22" viewBox="0 0 16 22" fill="none" class="AccountPage_icon">
                        <path d="M8 0.5C3.85953 0.5 0.5 3.52391 0.5 7.25C0.5 13.25 8 21.5 8 21.5C8 21.5 15.5 13.25 15.5 7.25C15.5 3.52391 12.1405 0.5 8 0.5ZM8 11C7.40666 11 6.82664 10.8241 6.33329 10.4944C5.83994 10.1648 5.45542 9.69623 5.22836 9.14805C5.0013 8.59987 4.94189 7.99667 5.05764 7.41473C5.1734 6.83279 5.45912 6.29824 5.87868 5.87868C6.29824 5.45912 6.83279 5.1734 7.41473 5.05764C7.99667 4.94189 8.59987 5.0013 9.14805 5.22836C9.69623 5.45542 10.1648 5.83994 10.4944 6.33329C10.8241 6.82664 11 7.40666 11 8C10.9991 8.79538 10.6828 9.55794 10.1204 10.1204C9.55794 10.6828 8.79538 10.9991 8 11Z" fill="#0C7800"></path>
                    </svg>
                    <div class="AccountPage_buttonTextDetails"><span>Kelola Alamat Pengiriman</span><span>Lengkapi atau ganti alamat</span></div>
                    <div class="AccountPage_iconSmall AccountPage_arrow"></div>
                </div>
            </div>
            <div class="AccountPage_accountCard">
                <router-link class="AccountPage_buttonCard" :to="{name: 'cashback'}" style="text-decoration: none">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="AccountPage_icon">
                        <path d="M3.75 19.5C3.75 20.2956 4.06607 21.0587 4.62868 21.6213C5.19129 22.1839 5.95435 22.5 6.75 22.5H11.0625C11.1122 22.5 11.1599 22.4802 11.1951 22.4451C11.2302 22.4099 11.25 22.3622 11.25 22.3125V13.6875C11.25 13.6378 11.2302 13.5901 11.1951 13.5549C11.1599 13.5197 11.1122 13.5 11.0625 13.5H4.125C4.02554 13.5 3.93016 13.5395 3.85984 13.6098C3.78951 13.6802 3.75 13.7755 3.75 13.875V19.5ZM11.25 11.8125V6.74999H12.75V11.8125C12.75 11.8622 12.7698 11.9099 12.8049 11.9451C12.8401 11.9802 12.8878 12 12.9375 12H19.5C19.7555 12 20.0091 11.9564 20.25 11.8711C20.6883 11.7155 21.0677 11.4281 21.3363 11.0484C21.6048 10.6686 21.7493 10.2151 21.75 9.74999V8.99999C21.75 8.40326 21.5129 7.83096 21.091 7.409C20.669 6.98705 20.0967 6.74999 19.5 6.74999H17.5997C17.5834 6.74973 17.5674 6.74521 17.5533 6.73688C17.5393 6.72854 17.5277 6.71668 17.5196 6.70248C17.5116 6.68827 17.5074 6.6722 17.5074 6.65587C17.5075 6.63954 17.5118 6.62351 17.52 6.60937C17.954 5.87666 18.0949 5.00697 17.9146 4.17469C17.7343 3.34242 17.246 2.60908 16.5476 2.12173C15.8492 1.63438 14.9925 1.42904 14.1491 1.54689C13.3057 1.66474 12.538 2.09707 12 2.75718C11.462 2.09707 10.6943 1.66474 9.85092 1.54689C9.00752 1.42904 8.15075 1.63438 7.4524 2.12173C6.75405 2.60908 6.26574 3.34242 6.0854 4.17469C5.90506 5.00697 6.04602 5.87666 6.48 6.60937C6.48817 6.62351 6.4925 6.63954 6.49257 6.65587C6.49263 6.6722 6.48843 6.68827 6.48038 6.70248C6.47233 6.71668 6.46071 6.72854 6.44666 6.73688C6.43262 6.74521 6.41664 6.74973 6.40031 6.74999H4.5C3.90326 6.74999 3.33097 6.98705 2.90901 7.409C2.48705 7.83096 2.25 8.40326 2.25 8.99999V9.74999C2.25066 10.2151 2.39517 10.6686 2.66372 11.0484C2.93227 11.4281 3.3117 11.7155 3.75 11.8711C3.99085 11.9564 4.24449 12 4.5 12H11.0625C11.1122 12 11.1599 11.9802 11.1951 11.9451C11.2302 11.9099 11.25 11.8622 11.25 11.8125ZM12.75 4.87499C12.75 4.50415 12.86 4.14164 13.066 3.8333C13.272 3.52496 13.5649 3.28463 13.9075 3.14272C14.2501 3.00081 14.6271 2.96367 14.9908 3.03602C15.3545 3.10837 15.6886 3.28695 15.9508 3.54917C16.213 3.81139 16.3916 4.14549 16.464 4.5092C16.5363 4.87291 16.4992 5.24991 16.3573 5.59253C16.2154 5.93514 15.975 6.22797 15.6667 6.434C15.3584 6.64003 14.9958 6.74999 14.625 6.74999H12.75V4.87499ZM9.24094 3.00468C9.49781 2.98627 9.75572 3.02097 9.9986 3.10662C10.2415 3.19227 10.4641 3.32704 10.6526 3.50252C10.8411 3.67799 10.9914 3.89042 11.0942 4.12655C11.197 4.36269 11.25 4.61746 11.25 4.87499V6.74999H9.375C8.89017 6.74875 8.42466 6.55975 8.07619 6.22266C7.72771 5.88557 7.52336 5.4266 7.50601 4.94208C7.48867 4.45756 7.65968 3.98515 7.98316 3.62401C8.30664 3.26286 8.75744 3.04106 9.24094 3.00515V3.00468ZM12.9375 22.5H17.25C18.0456 22.5 18.8087 22.1839 19.3713 21.6213C19.9339 21.0587 20.25 20.2956 20.25 19.5V13.875C20.25 13.7755 20.2105 13.6802 20.1402 13.6098C20.0698 13.5395 19.9745 13.5 19.875 13.5H12.9375C12.8878 13.5 12.8401 13.5197 12.8049 13.5549C12.7698 13.5901 12.75 13.6378 12.75 13.6875V22.3125C12.75 22.3622 12.7698 22.4099 12.8049 22.4451C12.8401 22.4802 12.8878 22.5 12.9375 22.5Z" fill="#0C7800"></path>
                    </svg>
                    <div class="AccountPage_buttonTextDetails">
                        <span>
                            Cashback
                            <svg width="34" height="16" viewBox="0 0 34 16" fill="none" class="AccountPage_badgeNew">
                                <rect width="34" height="16" rx="8" fill="#E65C5C"></rect>
                                <path d="M8.776 8.088C9.096 8.18933 9.34667 8.36 9.528 8.6C9.70933 8.83467 9.8 9.12533 9.8 9.472C9.8 9.96267 9.608 10.3413 9.224 10.608C8.84533 10.8693 8.29067 11 7.56 11H4.664V5.4H7.4C8.08267 5.4 8.60533 5.53067 8.968 5.792C9.336 6.05333 9.52 6.408 9.52 6.856C9.52 7.128 9.45333 7.37067 9.32 7.584C9.192 7.79733 9.01067 7.96533 8.776 8.088ZM5.952 6.376V7.696H7.24C7.56 7.696 7.80267 7.64 7.968 7.528C8.13333 7.416 8.216 7.25067 8.216 7.032C8.216 6.81333 8.13333 6.65067 7.968 6.544C7.80267 6.432 7.56 6.376 7.24 6.376H5.952ZM7.464 10.024C7.80533 10.024 8.06133 9.968 8.232 9.856C8.408 9.744 8.496 9.57067 8.496 9.336C8.496 8.872 8.152 8.64 7.464 8.64H5.952V10.024H7.464ZM14.7892 9.8H12.1892L11.6932 11H10.3652L12.8612 5.4H14.1412L16.6452 11H15.2852L14.7892 9.8ZM14.3812 8.816L13.4932 6.672L12.6052 8.816H14.3812ZM21.1142 11L20.0342 9.44H19.9702H18.8422V11H17.5462V5.4H19.9702C20.4662 5.4 20.8955 5.48267 21.2582 5.648C21.6262 5.81333 21.9089 6.048 22.1062 6.352C22.3035 6.656 22.4022 7.016 22.4022 7.432C22.4022 7.848 22.3009 8.208 22.0982 8.512C21.9009 8.81067 21.6182 9.04 21.2502 9.2L22.5062 11H21.1142ZM21.0902 7.432C21.0902 7.11733 20.9889 6.87733 20.7862 6.712C20.5835 6.54133 20.2875 6.456 19.8982 6.456H18.8422V8.408H19.8982C20.2875 8.408 20.5835 8.32267 20.7862 8.152C20.9889 7.98133 21.0902 7.74133 21.0902 7.432ZM26.237 11.096C25.437 11.096 24.813 10.8747 24.365 10.432C23.9223 9.98933 23.701 9.35733 23.701 8.536V5.4H24.997V8.488C24.997 9.49067 25.413 9.992 26.245 9.992C26.6503 9.992 26.9597 9.872 27.173 9.632C27.3863 9.38667 27.493 9.00533 27.493 8.488V5.4H28.773V8.536C28.773 9.35733 28.549 9.98933 28.101 10.432C27.6583 10.8747 27.037 11.096 26.237 11.096Z" fill="white"></path>
                            </svg>
                        </span>
                        <span>Lihat riwayat cashback</span>
                    </div>
                    <div class="AccountPage_iconSmall AccountPage_arrow"></div>
                </router-link>
            </div>
            <div class="AccountPage_lastCard">
                <div class="AccountPage_buttonLogout" @click="logout()">
                    <span>Log Out</span>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="AccountPage_iconSmall">
                        <path d="M7.5 12C7.5 11.8011 7.57902 11.6103 7.71967 11.4697C7.86032 11.329 8.05109 11.25 8.25 11.25H15V6.375C15 4.875 13.4161 3.75 12 3.75H4.875C4.17904 3.75074 3.51179 4.02755 3.01967 4.51967C2.52755 5.01179 2.25074 5.67904 2.25 6.375V17.625C2.25074 18.321 2.52755 18.9882 3.01967 19.4803C3.51179 19.9725 4.17904 20.2493 4.875 20.25H12.375C13.071 20.2493 13.7382 19.9725 14.2303 19.4803C14.7225 18.9882 14.9993 18.321 15 17.625V12.75H8.25C8.05109 12.75 7.86032 12.671 7.71967 12.5303C7.57902 12.3897 7.5 12.1989 7.5 12ZM21.5302 11.4698L17.7802 7.71984C17.6384 7.58513 17.4495 7.51114 17.254 7.51364C17.0584 7.51614 16.8715 7.59495 16.7332 7.73325C16.5949 7.87155 16.5161 8.0584 16.5136 8.25398C16.5111 8.44955 16.5851 8.63836 16.7198 8.78016L19.1892 11.25H15V12.75H19.1892L16.7198 15.2198C16.6473 15.2888 16.5892 15.3716 16.5492 15.4633C16.5091 15.555 16.4878 15.6539 16.4865 15.754C16.4852 15.8541 16.504 15.9534 16.5417 16.0461C16.5794 16.1389 16.6353 16.2231 16.7061 16.2939C16.7769 16.3647 16.8611 16.4206 16.9539 16.4583C17.0466 16.496 17.1459 16.5148 17.246 16.5135C17.3461 16.5122 17.445 16.4909 17.5367 16.4508C17.6284 16.4108 17.7112 16.3527 17.7802 16.2802L21.5302 12.5302C21.6707 12.3895 21.7497 12.1988 21.7497 12C21.7497 11.8012 21.6707 11.6105 21.5302 11.4698Z" fill="#0C7800"></path>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import {mapGetters} from 'vuex'
export default {
    name: 'Account',
    computed: {
        ...mapGetters([
            'user'
        ])
    },
    created() {
        this.$store.dispatch('auth');
    },
    methods: {
        logout() {
            this.$store.dispatch('logout').then(res => {
                this.$router.push({ name: 'login' });
            }).catch(err => {
                console.log(err);
            });
        }
    }
}
</script>
